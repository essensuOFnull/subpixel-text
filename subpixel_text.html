<!doctype html>

<head>
   <meta charset=utf-8">
   <title>subpixel text generator</title>
   <style>
      * {
         margin: 0;
         padding: 0;
      }

      body {
         background: #000;
         color: #fff;
      }

      pre {
         background: #000;
         color: #fff;
         display: inline;
         font-size: 12px;
         text-transform: uppercase;
      }

      select {
         background: #000;
         color: #f00;
         -moz-appearance: none;
         border: none;
         outline: none;
         cursor: pointer;
         font-family: inherit;
         font-size: 12px;
         text-transform: uppercase;
      }

      button {
         background: #000;
         color: #f00;
         border: none;
         cursor: pointer;
         font-family: inherit;
         font-size: 12px;
         text-transform: uppercase;
      }

      textarea {
         background: #000;
         color: #fff;
         outline: none;
         width: 400px;
         height: 16px;
         border-width: 1px;
      }
   </style>
</head>

<body>
   <pre><noscript>You need to enable JavaScript to use this site<br></noscript>subpixel text generator<br>choice mode:<select id="mode"><option value=0>string</option><option value=1>image</option><option value=2>filling</option></select><br><button onclick="text0link1=false;">enter text</button> or <button onclick="text0link1=true;">paste a link</button> to a text file (default link):<br><textarea id="text">text.txt</textarea><br>paste a link to a font:<br><textarea id="font"></textarea><br>font preview <input type="checkbox" id="font_preview"></input><br><button id="AddArea" onclick="AddArea();"> + </button>list of areas:</pre>
   <br>
   <div id="areas">&nbsp;</div>
   <div id="mode_0"></div>
   <div id="mode_1"></div>
   <div id="mode_2"></div><br><button onclick="GetImage()">get image</button>
   <script type="text/javascript">
      function GetImage() {
         var text = document.getElementById("text").value;
         if (text0link1) {
            reader = new FileReader();
            reader.readAsText(text);
            text = reader.result;
            console.log(text);
         }
      }

      function AddArea() {
         var area = document.createElement("div");
         area.id = `area_${CountOfAreas}`
         area.innerHTML = `<button onclick="removeArea(this);"> - </button> &nbsp; new area`;
         areas.insertBefore(area, areas.lastChild);
         CountOfAreas++;
      }
      function removeArea(element) {
         element.parentNode.remove();
         Array.from(areas.children).forEach((child, idx) => {
            child.id = `area_${idx + 1}`;
         });
         CountOfAreas--;
      }
      var CountOfAreas=1;
      const listOfAreas=[]
      const areas = document.getElementById('areas');
      var text0link1=true;
      document.querySelectorAll('textarea').forEach(textarea => {
         textarea.addEventListener('keyup', function () {
            if (this.scrollTop > 0) {
               this.style.height = this.scrollHeight + "px";
            }
         });
      });
      
      const search=window.location.searchconst;
      params=new URLSearchParams(search);
      const selectMode=newMode=>{
         document.getElementById('mode').value = newMode
         document.getElementById('mode_0').style.display=newMode===0?'inline':'none';
         document.getElementById('mode_1').style.display=newMode===1?'inline':'none';
         document.getElementById('mode_2').style.display=newMode===2?'inline':'none';
      };
      var mode=+params.get("mode")||0;
      selectMode(mode);
      document.getElementById('mode').addEventListener('change', e => {
         mode=+(e.target.value);
         selectMode(mode)
      });
   </script>
</body>

</html>
